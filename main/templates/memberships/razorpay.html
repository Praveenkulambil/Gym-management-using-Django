{% extends 'home.html' %}

{% load static %}

{% block content %}


<main id="main">

  <section class="inner-page">


 <section id="why-us" class="why-us">
    <div class="container">

      <div class="section-title">








        {% if not payment %}
<div id="app">
<div class="col-6 pt-5  mx-auto">
<div class="text-center">
</div>

    <form class="m" method="post" >
        {% csrf_token %}
        <div class="form-group pt-4">
            <label for="exampleInputEmail1">Your name</label>
            <input   name="name" type="text" class="form-control"
             id="exampleInputEmail1" aria-describedby="emailHelp" value={{name}}>
           
          </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Enter Email</label>
          <input type="email"  class="form-control" name="email"
           id="exampleInputPassword1" value={{email}}>
        </div>

        <div class="form-group">
          <label for="exampleInputPassword1">Your Amount</label>
          <input type="number" class="form-control" name="amount" id="exampleInputPassword1"  value="{{amount}}" >
        </div>

        <button class="btn btn-success btn-block" type="submit">Submit</button>
        </form>
{% endif %}

{% if payment %}
        <div class="container mx-auto text-center mt-4" v-if="name && amount">

            <form action="{% url 'success' %}" method="POST">
                <script
                    src="https://checkout.razorpay.com/v1/checkout.js"
                    data-key="rzp_test_ifqXZb84qSL1CP" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys
                    data-amount="{{payment.amount}}"
                    data-currency="INR"//You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
                    data-order_id="{{ payment.id }}"//Replace with the order_id generated by you in the backend.
                    data-buttontext="Pay with Razorpay"
                    data-name="Turf  booking Team"
                    data-description="Thanks for Payment."
                    data-image="https://example.com/your_logo.jpg"
                    data-prefill.name="Harisankar"
                    data-prefill.email="5@gmil.com"
                    data-prefill.contact="333333333"
                    data-theme.color="#F37254"
                ></script>
                <input type="hidden" custom="Hidden Element" name="hidden">
                </form>
            </div>
{% endif %}    
        </div>
       


</div>











      </div>
    </div>
    <section>
      <section>
        <main>











   


    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
        var app = new Vue({
          delimiters: ['[[', ']]'],
          el: '#app',
          data: {
              message: 'Hello Vue!',
              name : null,
              amount : null
             
          },
          methods: {
              greet: function(name) {
                  console.log('Hello from ' + name + '!')
              },
              get : function(){
                console.log(this.name , this.amount)
              }
          },
          watch : {
            amount(){
                console.log(this.amount)
            }
          }
        });

        {% if msg %}
            {{msg}}
            {% endif %}
      </script>


<style>
body{
    background :#f5f6f8;
}

</style>


{% endblock  %}


